---
layout: post
title: "tpcall과 소켓통신 - 이제 이해했다"
date: 2026-02-14
categories: [bss, architecture]
---

# tpcall과 소켓통신

## 소켓이란?

프로그램끼리 데이터를 주고받는 **문(door)**.

```
서버: socket() → bind() → listen() → accept() → 대기
클라이언트: socket() → connect() → write() → read()
```

식당 주문 창구와 같다:
- 주방(서버)이 창구(소켓)를 열어놓고
- 손님(클라이언트)이 창구에 주문서를 넣으면
- 주방이 요리하고 결과를 돌려줌

## 소켓 vs API

```
소켓 = 전화기 (통화 연결하는 도구)
API  = 전화 상담 매뉴얼 (형식 약속)
```

- **소켓만**: 자기들끼리만 통하는 사투리
- **API**: 표준어 (누구나 이해 가능)

## tpcall의 위치

```
API (REST/HTTP)     ← 높은 수준
  │
HTTP 프로토콜
  │
소켓 통신           ← tpcall은 여기에 자체 프로토콜
  │
네트워크 (TCP/IP)
```

## Tuxedo가 하는 일

개발자는 `tpcall("서비스명", 데이터)` 한 줄이면 끝.

Tuxedo가 알아서:
- 서비스가 어느 서버에 있는지 찾아줌
- 프로세스 풀 관리
- 로드밸런싱
- 트랜잭션 관리

요즘으로 치면 **k8s + API Gateway**가 하는 일을 90년대에 했다.

---

*"아... 이제 tpcall과 API 차이를 알았음"*
